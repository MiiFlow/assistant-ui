{"version":3,"sources":["../src/primitives/message.tsx","../src/primitives/message-list.tsx","../src/primitives/message-composer.tsx","../src/primitives/avatar.tsx","../src/primitives/streaming-text.tsx","../src/primitives/suggested-actions.tsx","../src/primitives/typing-indicator.tsx"],"names":["MessageContext","createContext","useMessage","context","useContext","Message","forwardRef","message","viewerRole","children","props","ref","isViewer","isStreaming","jsx","MessageContent","MessageTimestamp","format","date","formatted","MessageList","autoScroll","scrollThreshold","containerRef","scrollToBottom","useAutoScroll","node","ComposerContext","useComposer","MessageComposer","onSubmit","disabled","className","composer","useMessageComposer","handleFormSubmit","e","contextValue","ComposerInput","content","handleContentChange","handleKeyDown","inputRef","ComposerSubmit","canSubmit","isSubmitting","getInitials","name","parts","Avatar","src","alt","role","fallback","initials","Fragment","StreamingText","showCursor","cursor","jsxs","SuggestedActionsContext","useSuggestedActions","SuggestedActions","actions","onSelect","ActionButton","action","onClick","TypingIndicator","dotCount","_","i"],"mappings":"iJAeA,IAAMA,CAAAA,CAAiBC,cAA0C,IAAI,EAM9D,SAASC,CAAAA,EAAa,CAC3B,IAAMC,EAAUC,UAAAA,CAAWJ,CAAc,CAAA,CACzC,GAAI,CAACG,CAAAA,CACH,MAAM,IAAI,KAAA,CAAM,oDAAoD,CAAA,CAEtE,OAAOA,CACT,CAeO,IAAME,CAAAA,CAAUC,UAAAA,CACrB,CAAC,CAAE,OAAA,CAAAC,EAAS,UAAA,CAAAC,CAAAA,CAAa,MAAA,CAAQ,QAAA,CAAAC,CAAAA,CAAU,GAAGC,CAAM,CAAA,CAAGC,CAAAA,GAAQ,CAC7D,IAAMC,CAAAA,CAAWL,CAAAA,CAAQ,aAAa,IAAA,GAASC,CAAAA,CACzCK,CAAAA,CAAcN,CAAAA,CAAQ,WAAA,EAAe,KAAA,CAE3C,OACEO,GAAAA,CAACd,CAAAA,CAAe,QAAA,CAAf,CAAwB,KAAA,CAAO,CAAE,QAAAO,CAAAA,CAAS,QAAA,CAAAK,CAAAA,CAAU,WAAA,CAAAC,CAAY,CAAA,CAC/D,SAAAC,GAAAA,CAAC,KAAA,CAAA,CACC,GAAA,CAAKH,CAAAA,CACL,WAAA,CAAWJ,CAAAA,CAAQ,aAAa,IAAA,CAChC,aAAA,CAAaK,CAAAA,CACb,gBAAA,CAAgBC,CAAAA,CACf,GAAGH,EAEH,QAAA,CAAAD,CAAAA,CACH,CAAA,CACF,CAEJ,CACF,EAEAJ,EAAQ,WAAA,CAAc,SAAA,CAWf,IAAMU,CAAAA,CAAiBT,UAAAA,CAC5B,CAAC,CAAE,QAAA,CAAAG,CAAAA,CAAU,GAAGC,CAAM,CAAA,CAAGC,CAAAA,GAAQ,CAC/B,GAAM,CAAE,OAAA,CAAAJ,CAAQ,CAAA,CAAIL,CAAAA,EAAW,CAE/B,OACEY,GAAAA,CAAC,KAAA,CAAA,CAAI,GAAA,CAAKH,CAAAA,CAAM,GAAGD,CAAAA,CAChB,SAAAD,CAAAA,EAAYF,CAAAA,CAAQ,WAAA,CACvB,CAEJ,CACF,EAEAQ,EAAe,WAAA,CAAc,gBAAA,CAUtB,IAAMC,CAAAA,CAAmBV,UAAAA,CAC9B,CAAC,CAAE,MAAA,CAAAW,CAAAA,CAAQ,GAAGP,CAAM,CAAA,CAAGC,CAAAA,GAAQ,CAC7B,GAAM,CAAE,OAAA,CAAAJ,CAAQ,CAAA,CAAIL,CAAAA,GACdgB,CAAAA,CACJ,OAAOX,CAAAA,CAAQ,SAAA,EAAc,QAAA,CACzB,IAAI,IAAA,CAAKA,CAAAA,CAAQ,SAAS,CAAA,CAC1BA,CAAAA,CAAQ,SAAA,CAERY,CAAAA,CAAYF,CAAAA,CACdA,EAAOC,CAAI,CAAA,CACXA,CAAAA,CAAK,kBAAA,CAAmB,OAAA,CAAS,CAC/B,KAAM,SAAA,CACN,MAAA,CAAQ,SAAA,CACR,MAAA,CAAQ,IACV,CAAC,EAEL,OACEJ,GAAAA,CAAC,MAAA,CAAA,CAAK,GAAA,CAAKH,CAAAA,CAAM,GAAGD,EACjB,QAAA,CAAAS,CAAAA,CACH,CAEJ,CACF,EAEAH,CAAAA,CAAiB,YAAc,kBAAA,CCxGxB,IAAMI,CAAAA,CAAcd,UAAAA,CACzB,CAAC,CAAE,SAAAG,CAAAA,CAAU,UAAA,CAAAY,CAAAA,CAAa,IAAA,CAAM,eAAA,CAAAC,CAAAA,CAAkB,GAAA,CAAK,GAAGZ,CAAM,CAAA,CAAGC,CAAAA,GAAQ,CACzE,GAAM,CAAE,aAAAY,CAAAA,CAAc,cAAA,CAAAC,CAAe,CAAA,CAAIC,CAAAA,CAA8B,CACrE,QAASJ,CAAAA,CACT,SAAA,CAAWC,CACb,CAAC,CAAA,CAYD,OACER,IAAC,KAAA,CAAA,CAAI,GAAA,CAVYY,CAAAA,EAAgC,CAChDH,CAAAA,CAA+D,OAAA,CAAUG,EACtE,OAAOf,CAAAA,EAAQ,UAAA,CACjBA,CAAAA,CAAIe,CAAI,CAAA,CACCf,IACTA,CAAAA,CAAI,OAAA,CAAUe,CAAAA,EAElB,CAAA,CAGuB,uBAAA,CAAuBF,CAAAA,CAAiB,GAAGd,CAAAA,CAC7D,QAAA,CAAAD,CAAAA,CACH,CAEJ,CACF,EAEAW,EAAY,WAAA,CAAc,aAAA,CCpB1B,IAAMO,EAAkB1B,aAAAA,CAA2C,IAAI,EAMhE,SAAS2B,CAAAA,EAAc,CAC5B,IAAMzB,CAAAA,CAAUC,UAAAA,CAAWuB,CAAe,CAAA,CAC1C,GAAI,CAACxB,EACH,MAAM,IAAI,KAAA,CAAM,6DAA6D,CAAA,CAE/E,OAAOA,CACT,CAiBO,IAAM0B,CAAAA,CAAkBvB,UAAAA,CAC7B,CAAC,CAAE,SAAAwB,CAAAA,CAAU,QAAA,CAAAC,CAAAA,CAAW,KAAA,CAAO,QAAA,CAAAtB,CAAAA,CAAU,UAAAuB,CAAU,CAAA,CAAGrB,CAAAA,GAAQ,CAC5D,IAAMsB,CAAAA,CAAWC,EAAmB,CAAE,QAAA,CAAAJ,CAAAA,CAAU,QAAA,CAAAC,CAAS,CAAC,CAAA,CAEpDI,CAAAA,CAAoBC,CAAAA,EAAuB,CAC/CA,CAAAA,CAAE,cAAA,EAAe,CACjBH,CAAAA,CAAS,eACX,CAAA,CAEMI,CAAAA,CAAqC,CACzC,GAAGJ,CAAAA,CACH,UAAW,CAAA,CAAQA,CAAAA,CAAS,SAC9B,CAAA,CAEA,OACEnB,GAAAA,CAACa,EAAgB,QAAA,CAAhB,CAAyB,KAAA,CAAOU,CAAAA,CAC/B,QAAA,CAAAvB,GAAAA,CAAC,QACC,GAAA,CAAKH,CAAAA,CACL,SAAA,CAAWqB,CAAAA,CACX,QAAA,CAAUG,CAAAA,CACV,kBAAiBF,CAAAA,CAAS,YAAA,CAC1B,iBAAA,CAAiBA,CAAAA,CAAS,SAAA,CAEzB,QAAA,CAAAxB,EACH,CAAA,CACF,CAEJ,CACF,EAEAoB,CAAAA,CAAgB,WAAA,CAAc,kBAQvB,IAAMS,CAAAA,CAAgBhC,UAAAA,CAC3B,CAACI,CAAAA,CAAOC,CAAAA,GAAQ,CACd,GAAM,CAAE,OAAA,CAAA4B,CAAAA,CAAS,mBAAA,CAAAC,CAAAA,CAAqB,aAAA,CAAAC,EAAe,QAAA,CAAAC,CAAS,CAAA,CAAId,CAAAA,EAAY,CAY9E,OACEd,IAAC,UAAA,CAAA,CACC,GAAA,CAXeY,CAAAA,EAAqC,CACrDgB,CAAAA,CAAgE,OAAA,CAAUhB,EACvE,OAAOf,CAAAA,EAAQ,UAAA,CACjBA,CAAAA,CAAIe,CAAI,CAAA,CACCf,IACTA,CAAAA,CAAI,OAAA,CAAUe,CAAAA,EAElB,CAAA,CAKI,KAAA,CAAOa,CAAAA,CACP,SAAWH,CAAAA,EAAMI,CAAAA,CAAoBJ,CAAAA,CAAE,MAAA,CAAO,KAAK,CAAA,CACnD,UAAWK,CAAAA,CACV,GAAG/B,CAAAA,CACN,CAEJ,CACF,EAEA4B,EAAc,WAAA,CAAc,eAAA,CAOrB,IAAMK,CAAAA,CAAiBrC,UAAAA,CAC5B,CAAC,CAAE,QAAA,CAAAG,CAAAA,CAAU,QAAA,CAAAsB,CAAAA,CAAU,GAAGrB,CAAM,CAAA,CAAGC,IAAQ,CACzC,GAAM,CAAE,SAAA,CAAAiC,CAAAA,CAAW,YAAA,CAAAC,CAAa,CAAA,CAAIjB,CAAAA,EAAY,CAEhD,OACEd,GAAAA,CAAC,QAAA,CAAA,CACC,IAAKH,CAAAA,CACL,IAAA,CAAK,QAAA,CACL,QAAA,CAAUoB,CAAAA,EAAY,CAACa,EACvB,iBAAA,CAAiBC,CAAAA,CAChB,GAAGnC,CAAAA,CAEH,QAAA,CAAAD,CAAAA,CACH,CAEJ,CACF,EAEAkC,CAAAA,CAAe,WAAA,CAAc,gBAAA,CCxH7B,SAASG,CAAAA,CAAYC,CAAAA,CAAsB,CACzC,IAAMC,CAAAA,CAAQD,EAAK,IAAA,EAAK,CAAE,KAAA,CAAM,KAAK,CAAA,CACrC,OAAIC,EAAM,MAAA,GAAW,CAAA,CACZA,CAAAA,CAAM,CAAC,CAAA,CAAE,MAAA,CAAO,CAAC,CAAA,CAAE,WAAA,EAAY,CAAA,CAEhCA,CAAAA,CAAM,CAAC,CAAA,CAAE,OAAO,CAAC,CAAA,CAAIA,CAAAA,CAAMA,CAAAA,CAAM,MAAA,CAAS,CAAC,EAAE,MAAA,CAAO,CAAC,CAAA,EAAG,WAAA,EAClE,KAMaC,CAAAA,CAAS3C,UAAAA,CACpB,CAAC,CAAE,IAAA,CAAAyC,CAAAA,CAAM,IAAAG,CAAAA,CAAK,GAAA,CAAAC,CAAAA,CAAK,IAAA,CAAAC,CAAAA,CAAM,QAAA,CAAAC,EAAU,QAAA,CAAA5C,CAAAA,CAAU,GAAGC,CAAM,CAAA,CAAGC,CAAAA,GAAQ,CAC/D,IAAM2C,CAAAA,CAAWP,CAAAA,CAAOD,CAAAA,CAAYC,CAAI,CAAA,CAAI,IAAA,CAG5C,OACEjC,GAAAA,CAAC,KAAA,CAAA,CAAI,GAAA,CAAKH,CAAAA,CAAK,WAAA,CAAWyC,CAAAA,CAAO,GAAG1C,CAAAA,CACjC,QAAA,CAAAD,CAAAA,EACCK,GAAAA,CAAAyC,QAAAA,CAAA,CACG,SAAAL,CAAAA,CACCpC,GAAAA,CAAC,KAAA,CAAA,CAAI,GAAA,CAAKoC,CAAAA,CAAK,GAAA,CAPTC,GAAOJ,CAAAA,EAAQK,CAAAA,EAAQ,QAAA,CAOA,KAAA,CAAO,CAAE,KAAA,CAAO,OAAQ,MAAA,CAAQ,MAAO,CAAA,CAAG,CAAA,CAEvEC,CAAAA,EAAYC,CAAAA,EAAYF,GAAM,MAAA,CAAO,CAAC,CAAA,CAAE,WAAA,EAAY,CAExD,CAAA,CAEJ,CAEJ,CACF,EAEAH,CAAAA,CAAO,WAAA,CAAc,QAAA,KCjCRO,CAAAA,CAAgBlD,UAAAA,CAC3B,CACE,CAAE,OAAA,CAAAiC,CAAAA,CAAS,YAAA1B,CAAAA,CAAc,KAAA,CAAO,UAAA,CAAA4C,CAAAA,CAAa,IAAA,CAAM,MAAA,CAAAC,EAAQ,QAAA,CAAAjD,CAAAA,CAAU,GAAGC,CAAM,CAAA,CAC9EC,CAAAA,GAkBEgD,KAAC,KAAA,CAAA,CAAI,GAAA,CAAKhD,CAAAA,CAAK,gBAAA,CAAgBE,CAAAA,CAAc,GAAGH,EAC7C,QAAA,CAAA,CAAAD,CAAAA,EAAY8B,CAAAA,CACZ1B,CAAAA,EAAe4C,CAAAA,GAAeC,CAAAA,EAjBjC5C,IAAC,MAAA,CAAA,CACC,aAAA,CAAY,MAAA,CACZ,KAAA,CAAO,CACL,OAAA,CAAS,eACT,KAAA,CAAO,KAAA,CACP,MAAA,CAAQ,KAAA,CACR,eAAA,CAAiB,cAAA,CACjB,UAAA,CAAY,KAAA,CACZ,aAAA,CAAe,aAAA,CACf,SAAA,CAAW,4BACb,CAAA,CACF,CAAA,CAAA,CAAA,CAOA,CAGN,EAEA0C,CAAAA,CAAc,WAAA,CAAc,eAAA,CClC5B,IAAMI,CAAAA,CAA0B3D,aAAAA,CAAmD,IAAI,EAKhF,SAAS4D,CAAAA,EAAsB,CACpC,IAAM1D,CAAAA,CAAUC,UAAAA,CAAWwD,CAAuB,EAClD,GAAI,CAACzD,CAAAA,CACH,MAAM,IAAI,KAAA,CACR,sEACF,CAAA,CAEF,OAAOA,CACT,CAiBO,IAAM2D,CAAAA,CAAmBxD,WAC9B,CAAC,CAAE,OAAA,CAAAyD,CAAAA,CAAS,QAAA,CAAAC,CAAAA,CAAU,QAAA,CAAAvD,CAAAA,CAAU,SAAA,CAAAuB,CAAU,CAAA,CAAGrB,CAAAA,GACvCoD,CAAAA,CAAQ,MAAA,GAAW,EACd,IAAA,CAIPjD,GAAAA,CAAC8C,CAAAA,CAAwB,QAAA,CAAxB,CAAiC,KAAA,CAAO,CAAE,OAAA,CAAAG,CAAAA,CAAS,QAAA,CAAAC,CAAS,CAAA,CAC3D,QAAA,CAAAlD,IAAC,KAAA,CAAA,CAAI,GAAA,CAAKH,CAAAA,CAAK,IAAA,CAAK,OAAA,CAAQ,YAAA,CAAW,oBAAoB,SAAA,CAAWqB,CAAAA,CACnE,QAAA,CAAAvB,CAAAA,CACH,CAAA,CACF,CAGN,EAEAqD,CAAAA,CAAiB,WAAA,CAAc,kBAAA,CAYxB,IAAMG,CAAAA,CAAe3D,UAAAA,CAC1B,CAAC,CAAE,MAAA,CAAA4D,CAAAA,CAAQ,QAAA,CAAAzD,CAAAA,CAAU,OAAA,CAAA0D,EAAS,GAAGzD,CAAM,CAAA,CAAGC,CAAAA,GAAQ,CAChD,GAAM,CAAE,QAAA,CAAAqD,CAAS,CAAA,CAAIH,CAAAA,EAAoB,CASzC,OACE/C,GAAAA,CAAC,UAAO,GAAA,CAAKH,CAAAA,CAAK,IAAA,CAAK,QAAA,CAAS,OAAA,CARbyB,CAAAA,EAA2C,CAC9D+B,CAAAA,GAAU/B,CAAC,CAAA,CACNA,CAAAA,CAAE,gBAAA,EACL4B,CAAAA,CAASE,CAAM,EAEnB,CAAA,CAGyD,GAAGxD,CAAAA,CACvD,QAAA,CAAAD,CAAAA,EAAYyD,EAAO,KAAA,CACtB,CAEJ,CACF,EAEAD,CAAAA,CAAa,WAAA,CAAc,eC9EpB,IAAMG,CAAAA,CAAkB9D,UAAAA,CAC7B,CAAC,CAAE,QAAA,CAAAG,EAAU,QAAA,CAAA4D,CAAAA,CAAW,CAAA,CAAG,GAAG3D,CAAM,CAAA,CAAGC,CAAAA,GAEnCG,GAAAA,CAAC,KAAA,CAAA,CAAI,GAAA,CAAKH,CAAAA,CAAK,IAAA,CAAK,QAAA,CAAS,YAAA,CAAW,sBAAuB,GAAGD,CAAAA,CAC/D,QAAA,CAAAD,CAAAA,EACCK,GAAAA,CAAC,MAAA,CAAA,CAAK,cAAY,MAAA,CACf,QAAA,CAAA,KAAA,CAAM,IAAA,CAAK,CAAE,MAAA,CAAQuD,CAAS,CAAC,CAAA,CAAE,GAAA,CAAI,CAACC,CAAAA,CAAGC,CAAAA,GACxCzD,GAAAA,CAAC,QAEC,KAAA,CAAO,CACL,OAAA,CAAS,cAAA,CACT,KAAA,CAAO,KAAA,CACP,OAAQ,KAAA,CACR,YAAA,CAAc,KAAA,CACd,eAAA,CAAiB,cAAA,CACjB,WAAA,CAAayD,EAAIF,CAAAA,CAAW,CAAA,CAAI,KAAA,CAAQ,CAAA,CACxC,SAAA,CAAW,kCAAA,CACX,eAAgB,CAAA,EAAGE,CAAAA,CAAI,EAAG,CAAA,CAAA,CAC5B,CAAA,CAAA,CAVKA,CAWP,CACD,CAAA,CACH,CAAA,CAEJ,CAGN,EAEAH,CAAAA,CAAgB,WAAA,CAAc,iBAAA","file":"chunk-22O3KDFG.mjs","sourcesContent":["import {\n  createContext,\n  useContext,\n  forwardRef,\n  type ReactNode,\n  type HTMLAttributes,\n} from \"react\";\nimport type { MessageData, ParticipantRole } from \"../types\";\n\ninterface MessageContextValue {\n  message: MessageData;\n  isViewer: boolean;\n  isStreaming: boolean;\n}\n\nconst MessageContext = createContext<MessageContextValue | null>(null);\n\n/**\n * Hook to access the current message context.\n * Must be used within a Message component.\n */\nexport function useMessage() {\n  const context = useContext(MessageContext);\n  if (!context) {\n    throw new Error(\"useMessage must be used within a Message component\");\n  }\n  return context;\n}\n\nexport interface MessageProps extends HTMLAttributes<HTMLDivElement> {\n  /** The message data */\n  message: MessageData;\n  /** The viewer's role (used to determine alignment) */\n  viewerRole?: ParticipantRole;\n  /** Children to render inside the message */\n  children: ReactNode;\n}\n\n/**\n * Headless Message primitive.\n * Provides message context to children and data attributes for styling.\n */\nexport const Message = forwardRef<HTMLDivElement, MessageProps>(\n  ({ message, viewerRole = \"user\", children, ...props }, ref) => {\n    const isViewer = message.participant?.role === viewerRole;\n    const isStreaming = message.isStreaming ?? false;\n\n    return (\n      <MessageContext.Provider value={{ message, isViewer, isStreaming }}>\n        <div\n          ref={ref}\n          data-role={message.participant?.role}\n          data-viewer={isViewer}\n          data-streaming={isStreaming}\n          {...props}\n        >\n          {children}\n        </div>\n      </MessageContext.Provider>\n    );\n  }\n);\n\nMessage.displayName = \"Message\";\n\nexport interface MessageContentProps extends HTMLAttributes<HTMLDivElement> {\n  /** Custom content to render instead of message text */\n  children?: ReactNode;\n}\n\n/**\n * Renders the message content.\n * By default renders the message's textContent.\n */\nexport const MessageContent = forwardRef<HTMLDivElement, MessageContentProps>(\n  ({ children, ...props }, ref) => {\n    const { message } = useMessage();\n\n    return (\n      <div ref={ref} {...props}>\n        {children ?? message.textContent}\n      </div>\n    );\n  }\n);\n\nMessageContent.displayName = \"MessageContent\";\n\nexport interface MessageTimestampProps extends HTMLAttributes<HTMLSpanElement> {\n  /** Custom date formatter */\n  format?: (date: Date) => string;\n}\n\n/**\n * Renders the message timestamp.\n */\nexport const MessageTimestamp = forwardRef<HTMLSpanElement, MessageTimestampProps>(\n  ({ format, ...props }, ref) => {\n    const { message } = useMessage();\n    const date =\n      typeof message.createdAt === \"string\"\n        ? new Date(message.createdAt)\n        : message.createdAt;\n\n    const formatted = format\n      ? format(date)\n      : date.toLocaleTimeString(\"en-US\", {\n          hour: \"numeric\",\n          minute: \"2-digit\",\n          hour12: true,\n        });\n\n    return (\n      <span ref={ref} {...props}>\n        {formatted}\n      </span>\n    );\n  }\n);\n\nMessageTimestamp.displayName = \"MessageTimestamp\";\n\nexport { MessageContext };\n","import { forwardRef, type ReactNode, type HTMLAttributes } from \"react\";\nimport { useAutoScroll } from \"../hooks/use-auto-scroll\";\n\nexport interface MessageListProps extends HTMLAttributes<HTMLDivElement> {\n  /** Messages to render */\n  children: ReactNode;\n  /** Whether to auto-scroll to bottom on new messages */\n  autoScroll?: boolean;\n  /** Threshold from bottom to trigger auto-scroll (pixels) */\n  scrollThreshold?: number;\n}\n\n/**\n * Headless MessageList primitive.\n * Provides a scrollable container with auto-scroll behavior.\n */\nexport const MessageList = forwardRef<HTMLDivElement, MessageListProps>(\n  ({ children, autoScroll = true, scrollThreshold = 100, ...props }, ref) => {\n    const { containerRef, scrollToBottom } = useAutoScroll<HTMLDivElement>({\n      enabled: autoScroll,\n      threshold: scrollThreshold,\n    });\n\n    // Merge refs\n    const mergedRef = (node: HTMLDivElement | null) => {\n      (containerRef as React.MutableRefObject<HTMLDivElement | null>).current = node;\n      if (typeof ref === \"function\") {\n        ref(node);\n      } else if (ref) {\n        ref.current = node;\n      }\n    };\n\n    return (\n      <div ref={mergedRef} data-scroll-to-bottom={scrollToBottom} {...props}>\n        {children}\n      </div>\n    );\n  }\n);\n\nMessageList.displayName = \"MessageList\";\n","import {\n  createContext,\n  useContext,\n  forwardRef,\n  type ReactNode,\n  type TextareaHTMLAttributes,\n  type ButtonHTMLAttributes,\n} from \"react\";\nimport { useMessageComposer } from \"../hooks/use-message-composer\";\n\ninterface ComposerContextValue {\n  content: string;\n  isSubmitting: boolean;\n  canSubmit: boolean;\n  error: string | null;\n  handleContentChange: (value: string) => void;\n  handleSubmit: () => Promise<void>;\n  handleKeyDown: (e: React.KeyboardEvent<HTMLTextAreaElement>) => void;\n  inputRef: React.RefObject<HTMLTextAreaElement | null>;\n}\n\nconst ComposerContext = createContext<ComposerContextValue | null>(null);\n\n/**\n * Hook to access the composer context.\n * Must be used within a MessageComposer component.\n */\nexport function useComposer() {\n  const context = useContext(ComposerContext);\n  if (!context) {\n    throw new Error(\"useComposer must be used within a MessageComposer component\");\n  }\n  return context;\n}\n\nexport interface MessageComposerProps {\n  /** Callback when message is submitted */\n  onSubmit: (content: string, attachments?: File[]) => Promise<void>;\n  /** Whether the composer is disabled */\n  disabled?: boolean;\n  /** Children to render inside the composer */\n  children: ReactNode;\n  /** Additional CSS classes */\n  className?: string;\n}\n\n/**\n * Headless MessageComposer primitive.\n * Provides composer state and behavior to children.\n */\nexport const MessageComposer = forwardRef<HTMLFormElement, MessageComposerProps>(\n  ({ onSubmit, disabled = false, children, className }, ref) => {\n    const composer = useMessageComposer({ onSubmit, disabled });\n\n    const handleFormSubmit = (e: React.FormEvent) => {\n      e.preventDefault();\n      composer.handleSubmit();\n    };\n\n    const contextValue: ComposerContextValue = {\n      ...composer,\n      canSubmit: Boolean(composer.canSubmit),\n    };\n\n    return (\n      <ComposerContext.Provider value={contextValue}>\n        <form\n          ref={ref}\n          className={className}\n          onSubmit={handleFormSubmit}\n          data-submitting={composer.isSubmitting}\n          data-can-submit={composer.canSubmit}\n        >\n          {children}\n        </form>\n      </ComposerContext.Provider>\n    );\n  }\n);\n\nMessageComposer.displayName = \"MessageComposer\";\n\nexport interface ComposerInputProps\n  extends Omit<TextareaHTMLAttributes<HTMLTextAreaElement>, \"onChange\" | \"value\"> {}\n\n/**\n * Text input for the message composer.\n */\nexport const ComposerInput = forwardRef<HTMLTextAreaElement, ComposerInputProps>(\n  (props, ref) => {\n    const { content, handleContentChange, handleKeyDown, inputRef } = useComposer();\n\n    // Merge refs\n    const mergedRef = (node: HTMLTextAreaElement | null) => {\n      (inputRef as React.MutableRefObject<HTMLTextAreaElement | null>).current = node;\n      if (typeof ref === \"function\") {\n        ref(node);\n      } else if (ref) {\n        ref.current = node;\n      }\n    };\n\n    return (\n      <textarea\n        ref={mergedRef}\n        value={content}\n        onChange={(e) => handleContentChange(e.target.value)}\n        onKeyDown={handleKeyDown}\n        {...props}\n      />\n    );\n  }\n);\n\nComposerInput.displayName = \"ComposerInput\";\n\nexport interface ComposerSubmitProps extends ButtonHTMLAttributes<HTMLButtonElement> {}\n\n/**\n * Submit button for the message composer.\n */\nexport const ComposerSubmit = forwardRef<HTMLButtonElement, ComposerSubmitProps>(\n  ({ children, disabled, ...props }, ref) => {\n    const { canSubmit, isSubmitting } = useComposer();\n\n    return (\n      <button\n        ref={ref}\n        type=\"submit\"\n        disabled={disabled || !canSubmit}\n        data-submitting={isSubmitting}\n        {...props}\n      >\n        {children}\n      </button>\n    );\n  }\n);\n\nComposerSubmit.displayName = \"ComposerSubmit\";\n\nexport { ComposerContext };\n","import { forwardRef, type HTMLAttributes } from \"react\";\nimport type { ParticipantRole } from \"../types\";\n\nexport interface AvatarProps extends HTMLAttributes<HTMLDivElement> {\n  /** Name for fallback initials */\n  name?: string;\n  /** Image URL */\n  src?: string;\n  /** Alt text for image */\n  alt?: string;\n  /** Participant role for styling */\n  role?: ParticipantRole;\n  /** Fallback content when no image or name */\n  fallback?: React.ReactNode;\n}\n\n/**\n * Get initials from a name.\n */\nfunction getInitials(name: string): string {\n  const parts = name.trim().split(/\\s+/);\n  if (parts.length === 1) {\n    return parts[0].charAt(0).toUpperCase();\n  }\n  return (parts[0].charAt(0) + parts[parts.length - 1].charAt(0)).toUpperCase();\n}\n\n/**\n * Headless Avatar primitive.\n * Renders an image or fallback initials.\n */\nexport const Avatar = forwardRef<HTMLDivElement, AvatarProps>(\n  ({ name, src, alt, role, fallback, children, ...props }, ref) => {\n    const initials = name ? getInitials(name) : null;\n    const altText = alt ?? name ?? role ?? \"Avatar\";\n\n    return (\n      <div ref={ref} data-role={role} {...props}>\n        {children ?? (\n          <>\n            {src ? (\n              <img src={src} alt={altText} style={{ width: \"100%\", height: \"100%\" }} />\n            ) : (\n              fallback ?? initials ?? role?.charAt(0).toUpperCase()\n            )}\n          </>\n        )}\n      </div>\n    );\n  }\n);\n\nAvatar.displayName = \"Avatar\";\n","import { forwardRef, type HTMLAttributes, type ReactNode } from \"react\";\n\nexport interface StreamingTextProps extends HTMLAttributes<HTMLDivElement> {\n  /** The content to display */\n  content: string;\n  /** Whether the text is currently streaming */\n  isStreaming?: boolean;\n  /** Show a cursor indicator while streaming */\n  showCursor?: boolean;\n  /** Custom cursor element */\n  cursor?: ReactNode;\n  /** Children override (takes precedence over content) */\n  children?: ReactNode;\n}\n\n/**\n * Headless StreamingText primitive.\n * Renders text with streaming indicator support.\n */\nexport const StreamingText = forwardRef<HTMLDivElement, StreamingTextProps>(\n  (\n    { content, isStreaming = false, showCursor = true, cursor, children, ...props },\n    ref\n  ) => {\n    const defaultCursor = (\n      <span\n        aria-hidden=\"true\"\n        style={{\n          display: \"inline-block\",\n          width: \"2px\",\n          height: \"1em\",\n          backgroundColor: \"currentColor\",\n          marginLeft: \"2px\",\n          verticalAlign: \"text-bottom\",\n          animation: \"blink 1s step-end infinite\",\n        }}\n      />\n    );\n\n    return (\n      <div ref={ref} data-streaming={isStreaming} {...props}>\n        {children ?? content}\n        {isStreaming && showCursor && (cursor ?? defaultCursor)}\n      </div>\n    );\n  }\n);\n\nStreamingText.displayName = \"StreamingText\";\n","import {\n  createContext,\n  useContext,\n  forwardRef,\n  type ReactNode,\n  type ButtonHTMLAttributes,\n} from \"react\";\nimport type { SuggestedAction } from \"../types\";\n\ninterface SuggestedActionsContextValue {\n  actions: SuggestedAction[];\n  onSelect: (action: SuggestedAction) => void;\n}\n\nconst SuggestedActionsContext = createContext<SuggestedActionsContextValue | null>(null);\n\n/**\n * Hook to access suggested actions context.\n */\nexport function useSuggestedActions() {\n  const context = useContext(SuggestedActionsContext);\n  if (!context) {\n    throw new Error(\n      \"useSuggestedActions must be used within a SuggestedActions component\"\n    );\n  }\n  return context;\n}\n\nexport interface SuggestedActionsProps {\n  /** List of suggested actions */\n  actions: SuggestedAction[];\n  /** Callback when an action is selected */\n  onSelect: (action: SuggestedAction) => void;\n  /** Children to render */\n  children: ReactNode;\n  /** Additional CSS classes */\n  className?: string;\n}\n\n/**\n * Headless SuggestedActions primitive.\n * Provides context for rendering action buttons.\n */\nexport const SuggestedActions = forwardRef<HTMLDivElement, SuggestedActionsProps>(\n  ({ actions, onSelect, children, className }, ref) => {\n    if (actions.length === 0) {\n      return null;\n    }\n\n    return (\n      <SuggestedActionsContext.Provider value={{ actions, onSelect }}>\n        <div ref={ref} role=\"group\" aria-label=\"Suggested actions\" className={className}>\n          {children}\n        </div>\n      </SuggestedActionsContext.Provider>\n    );\n  }\n);\n\nSuggestedActions.displayName = \"SuggestedActions\";\n\nexport interface ActionButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  /** The action this button represents */\n  action: SuggestedAction;\n  /** Children to render inside button */\n  children?: ReactNode;\n}\n\n/**\n * Button for a suggested action.\n */\nexport const ActionButton = forwardRef<HTMLButtonElement, ActionButtonProps>(\n  ({ action, children, onClick, ...props }, ref) => {\n    const { onSelect } = useSuggestedActions();\n\n    const handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {\n      onClick?.(e);\n      if (!e.defaultPrevented) {\n        onSelect(action);\n      }\n    };\n\n    return (\n      <button ref={ref} type=\"button\" onClick={handleClick} {...props}>\n        {children ?? action.label}\n      </button>\n    );\n  }\n);\n\nActionButton.displayName = \"ActionButton\";\n\nexport { SuggestedActionsContext };\n","import { forwardRef, type HTMLAttributes, type ReactNode } from \"react\";\n\nexport interface TypingIndicatorProps extends HTMLAttributes<HTMLDivElement> {\n  /** Custom content to show while typing */\n  children?: ReactNode;\n  /** Number of dots to show */\n  dotCount?: number;\n}\n\n/**\n * Headless TypingIndicator primitive.\n * Shows animated dots or custom content.\n */\nexport const TypingIndicator = forwardRef<HTMLDivElement, TypingIndicatorProps>(\n  ({ children, dotCount = 3, ...props }, ref) => {\n    return (\n      <div ref={ref} role=\"status\" aria-label=\"Assistant is typing\" {...props}>\n        {children ?? (\n          <span aria-hidden=\"true\">\n            {Array.from({ length: dotCount }).map((_, i) => (\n              <span\n                key={i}\n                style={{\n                  display: \"inline-block\",\n                  width: \"6px\",\n                  height: \"6px\",\n                  borderRadius: \"50%\",\n                  backgroundColor: \"currentColor\",\n                  marginRight: i < dotCount - 1 ? \"4px\" : 0,\n                  animation: `typing 1.4s infinite ease-in-out`,\n                  animationDelay: `${i * 0.2}s`,\n                }}\n              />\n            ))}\n          </span>\n        )}\n      </div>\n    );\n  }\n);\n\nTypingIndicator.displayName = \"TypingIndicator\";\n"]}