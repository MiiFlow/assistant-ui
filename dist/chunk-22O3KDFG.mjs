import {a,b}from'./chunk-L5TNS56J.mjs';import {createContext,forwardRef,useContext}from'react';import {jsx,Fragment,jsxs}from'react/jsx-runtime';var m=createContext(null);function d(){let e=useContext(m);if(!e)throw new Error("useMessage must be used within a Message component");return e}var v=forwardRef(({message:e,viewerRole:t="user",children:s,...o},r)=>{let n=e.participant?.role===t,i=e.isStreaming??false;return jsx(m.Provider,{value:{message:e,isViewer:n,isStreaming:i},children:jsx("div",{ref:r,"data-role":e.participant?.role,"data-viewer":n,"data-streaming":i,...o,children:s})})});v.displayName="Message";var S=forwardRef(({children:e,...t},s)=>{let{message:o}=d();return jsx("div",{ref:s,...t,children:e??o.textContent})});S.displayName="MessageContent";var L=forwardRef(({format:e,...t},s)=>{let{message:o}=d(),r=typeof o.createdAt=="string"?new Date(o.createdAt):o.createdAt,n=e?e(r):r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:true});return jsx("span",{ref:s,...t,children:n})});L.displayName="MessageTimestamp";var h=forwardRef(({children:e,autoScroll:t=true,scrollThreshold:s=100,...o},r)=>{let{containerRef:n,scrollToBottom:i}=a({enabled:t,threshold:s});return jsx("div",{ref:p=>{n.current=p,typeof r=="function"?r(p):r&&(r.current=p);},"data-scroll-to-bottom":i,...o,children:e})});h.displayName="MessageList";var f=createContext(null);function M(){let e=useContext(f);if(!e)throw new Error("useComposer must be used within a MessageComposer component");return e}var P=forwardRef(({onSubmit:e,disabled:t=false,children:s,className:o},r)=>{let n=b({onSubmit:e,disabled:t}),i=p=>{p.preventDefault(),n.handleSubmit();},a={...n,canSubmit:!!n.canSubmit};return jsx(f.Provider,{value:a,children:jsx("form",{ref:r,className:o,onSubmit:i,"data-submitting":n.isSubmitting,"data-can-submit":n.canSubmit,children:s})})});P.displayName="MessageComposer";var H=forwardRef((e,t)=>{let{content:s,handleContentChange:o,handleKeyDown:r,inputRef:n}=M();return jsx("textarea",{ref:a=>{n.current=a,typeof t=="function"?t(a):t&&(t.current=a);},value:s,onChange:a=>o(a.target.value),onKeyDown:r,...e})});H.displayName="ComposerInput";var R=forwardRef(({children:e,disabled:t,...s},o)=>{let{canSubmit:r,isSubmitting:n}=M();return jsx("button",{ref:o,type:"submit",disabled:t||!r,"data-submitting":n,...s,children:e})});R.displayName="ComposerSubmit";function q(e){let t=e.trim().split(/\s+/);return t.length===1?t[0].charAt(0).toUpperCase():(t[0].charAt(0)+t[t.length-1].charAt(0)).toUpperCase()}var E=forwardRef(({name:e,src:t,alt:s,role:o,fallback:r,children:n,...i},a)=>{let p=e?q(e):null;return jsx("div",{ref:a,"data-role":o,...i,children:n??jsx(Fragment,{children:t?jsx("img",{src:t,alt:s??e??o??"Avatar",style:{width:"100%",height:"100%"}}):r??p??o?.charAt(0).toUpperCase()})})});E.displayName="Avatar";var N=forwardRef(({content:e,isStreaming:t=false,showCursor:s=true,cursor:o,children:r,...n},i)=>jsxs("div",{ref:i,"data-streaming":t,...n,children:[r??e,t&&s&&(o??jsx("span",{"aria-hidden":"true",style:{display:"inline-block",width:"2px",height:"1em",backgroundColor:"currentColor",marginLeft:"2px",verticalAlign:"text-bottom",animation:"blink 1s step-end infinite"}}))]}));N.displayName="StreamingText";var T=createContext(null);function D(){let e=useContext(T);if(!e)throw new Error("useSuggestedActions must be used within a SuggestedActions component");return e}var B=forwardRef(({actions:e,onSelect:t,children:s,className:o},r)=>e.length===0?null:jsx(T.Provider,{value:{actions:e,onSelect:t},children:jsx("div",{ref:r,role:"group","aria-label":"Suggested actions",className:o,children:s})}));B.displayName="SuggestedActions";var I=forwardRef(({action:e,children:t,onClick:s,...o},r)=>{let{onSelect:n}=D();return jsx("button",{ref:r,type:"button",onClick:a=>{s?.(a),a.defaultPrevented||n(e);},...o,children:t??e.label})});I.displayName="ActionButton";var k=forwardRef(({children:e,dotCount:t=3,...s},o)=>jsx("div",{ref:o,role:"status","aria-label":"Assistant is typing",...s,children:e??jsx("span",{"aria-hidden":"true",children:Array.from({length:t}).map((r,n)=>jsx("span",{style:{display:"inline-block",width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"currentColor",marginRight:n<t-1?"4px":0,animation:"typing 1.4s infinite ease-in-out",animationDelay:`${n*.2}s`}},n))})}));k.displayName="TypingIndicator";export{m as a,d as b,v as c,S as d,L as e,h as f,f as g,M as h,P as i,H as j,R as k,E as l,N as m,T as n,D as o,B as p,I as q,k as r};//# sourceMappingURL=chunk-22O3KDFG.mjs.map
//# sourceMappingURL=chunk-22O3KDFG.mjs.map