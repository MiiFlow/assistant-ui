{"version":3,"sources":["../src/utils/format-date.ts","../src/styles/tokens.ts"],"names":["TIME_FORMAT","DATE_FORMAT","FULL_FORMAT","formatMessageTime","date","d","now","formatRelativeTime","diffMs","diffSeconds","diffMinutes","diffHours","diffDays","chatTokens"],"mappings":"iQAIA,IAAMA,EAA0C,CAC9C,IAAA,CAAM,UACN,MAAA,CAAQ,SAAA,CACR,OAAQ,IACV,CAAA,CAEMC,CAAAA,CAA0C,CAC9C,MAAO,OAAA,CACP,GAAA,CAAK,SACP,CAAA,CAEMC,CAAAA,CAA0C,CAC9C,GAAGD,CAAAA,CACH,IAAA,CAAM,SAAA,CACN,GAAGD,CACL,CAAA,CAQO,SAASG,CAAAA,CAAkBC,CAAAA,CAA6B,CAC7D,IAAMC,CAAAA,CAAI,OAAOD,CAAAA,EAAS,QAAA,CAAW,IAAI,IAAA,CAAKA,CAAI,EAAIA,CAAAA,CAChDE,CAAAA,CAAM,IAAI,IAAA,CAOhB,OAJED,CAAAA,CAAE,OAAA,KAAcC,CAAAA,CAAI,OAAA,IACpBD,CAAAA,CAAE,QAAA,KAAeC,CAAAA,CAAI,QAAA,EAAS,EAC9BD,CAAAA,CAAE,aAAY,GAAMC,CAAAA,CAAI,aAAY,CAG7BD,CAAAA,CAAE,mBAAmB,OAAA,CAASL,CAAW,CAAA,CAG/BK,CAAAA,CAAE,aAAY,GAAMC,CAAAA,CAAI,aAAY,CAG9C,CAAA,EAAGD,EAAE,kBAAA,CAAmB,OAAA,CAASJ,CAAW,CAAC,CAAA,EAAA,EAAKI,EAAE,kBAAA,CAAmB,OAAA,CAASL,CAAW,CAAC,CAAA,CAAA,CAG9FK,EAAE,kBAAA,CAAmB,OAAA,CAASH,CAAW,CAClD,CAKO,SAASK,CAAAA,CAAmBH,EAA6B,CAC9D,IAAMC,EAAI,OAAOD,CAAAA,EAAS,QAAA,CAAW,IAAI,KAAKA,CAAI,CAAA,CAAIA,EAEhDI,CAAAA,CADM,IAAI,MAAK,CACF,OAAA,EAAQ,CAAIH,CAAAA,CAAE,SAAQ,CACnCI,CAAAA,CAAc,KAAK,KAAA,CAAMD,CAAAA,CAAS,GAAI,CAAA,CACtCE,CAAAA,CAAc,KAAK,KAAA,CAAMD,CAAAA,CAAc,EAAE,CAAA,CACzCE,CAAAA,CAAY,KAAK,KAAA,CAAMD,CAAAA,CAAc,EAAE,CAAA,CACvCE,CAAAA,CAAW,IAAA,CAAK,KAAA,CAAMD,EAAY,EAAE,CAAA,CAE1C,OAAIF,CAAAA,CAAc,EAAA,CACT,WAGLC,CAAAA,CAAc,EAAA,CACT,CAAA,EAAGA,CAAW,UAAUA,CAAAA,GAAgB,CAAA,CAAI,GAAK,GAAG,CAAA,IAAA,CAAA,CAGzDC,EAAY,EAAA,CACP,CAAA,EAAGA,CAAS,CAAA,KAAA,EAAQA,IAAc,CAAA,CAAI,EAAA,CAAK,GAAG,CAAA,IAAA,CAAA,CAGnDC,CAAAA,CAAW,EACN,CAAA,EAAGA,CAAQ,OAAOA,CAAAA,GAAa,CAAA,CAAI,GAAK,GAAG,CAAA,IAAA,CAAA,CAG7CT,EAAkBE,CAAC,CAC5B,CCzEO,IAAMQ,CAAAA,CAAa,CACxB,OAAA,CAAS,CAEP,cAAA,CAAgB,MAAA,CAEhB,UAAW,UAAA,CAEX,SAAA,CAAW,WAEX,SAAA,CAAW,MAAA,CAEX,eAAA,CAAiB,MACnB,EAEA,UAAA,CAAY,CACV,QAAS,CACP,QAAA,CAAU,OACV,UAAA,CAAY,GAAA,CACZ,aAAA,CAAe,KACjB,EACA,OAAA,CAAS,CACP,SAAU,UAAA,CACV,UAAA,CAAY,GACd,CAAA,CACA,KAAA,CAAO,CACL,QAAA,CAAU,WAAA,CACV,WAAY,GACd,CACF,EAEA,YAAA,CAAc,CACZ,QAAS,QAAA,CACT,KAAA,CAAO,MAAA,CACP,KAAA,CAAO,SACP,MAAA,CAAQ,QAAA,CACR,KAAM,SACR,CAAA,CAEA,OAAQ,CAEN,OAAA,CAAS,8BAAA,CACT,SAAA,CAAW,iCACX,KAAA,CAAO,4BAAA,CACP,QAAS,8BAAA,CAGT,SAAA,CAAW,8CACX,aAAA,CAAe,2DAAA,CAGf,OAAA,CAAS,2CAAA,CACT,YAAa,+CAAA,CAGb,MAAA,CAAQ,0CACR,WAAA,CAAa,+CAAA,CAGb,KAAM,2BAAA,CACN,MAAA,CAAQ,8CACR,WAAA,CAAa,6CAAA,CAGb,OAAQ,CACN,OAAA,CAAS,CACP,IAAA,CAAM,oBAAA,CACN,GAAI,qBACN,CAAA,CACA,OAAA,CAAS,CACP,KAAM,mBAAA,CACN,EAAA,CAAI,0BACN,CAAA,CACA,SAAA,CAAW,CACT,IAAA,CAAM,mBAAA,CACN,EAAA,CAAI,0BACN,EACA,MAAA,CAAQ,CACN,KAAM,kBAAA,CACN,EAAA,CAAI,yBACN,CACF,CACF,CAAA,CAEA,OAAA,CAAS,CACP,MAAA,CAAQ,+BAAA,CACR,MAAO,+BAAA,CACP,UAAA,CAAY,iCACZ,MAAA,CAAQ,+BAAA,CACR,YAAa,+BAAA,CACb,OAAA,CAAS,oCACT,YAAA,CAAc,oCAChB,EAEA,UAAA,CAAY,CACV,gBAAiB,CACf,OAAA,CAAS,CAAE,OAAA,CAAS,EAAG,CAAA,CAAG,CAAE,EAC5B,OAAA,CAAS,CAAE,QAAS,CAAA,CAAG,CAAA,CAAG,CAAE,CAAA,CAC5B,UAAA,CAAY,CAAE,QAAA,CAAU,EAAA,CAAK,KAAM,CAAC,EAAA,CAAK,EAAG,EAAA,CAAK,CAAC,CAAE,CACtD,EACA,MAAA,CAAQ,CACN,QAAS,CAAE,OAAA,CAAS,CAAE,CAAA,CACtB,OAAA,CAAS,CAAE,OAAA,CAAS,CAAE,EACtB,UAAA,CAAY,CAAE,SAAU,EAAI,CAC9B,CACF,CACF","file":"index.js","sourcesContent":["/**\n * Format a date for display in chat messages.\n */\n\nconst TIME_FORMAT: Intl.DateTimeFormatOptions = {\n  hour: \"numeric\",\n  minute: \"2-digit\",\n  hour12: true,\n};\n\nconst DATE_FORMAT: Intl.DateTimeFormatOptions = {\n  month: \"short\",\n  day: \"numeric\",\n};\n\nconst FULL_FORMAT: Intl.DateTimeFormatOptions = {\n  ...DATE_FORMAT,\n  year: \"numeric\",\n  ...TIME_FORMAT,\n};\n\n/**\n * Format a timestamp for display.\n * - Today: \"2:30 PM\"\n * - This year: \"Dec 15, 2:30 PM\"\n * - Other years: \"Dec 15, 2024, 2:30 PM\"\n */\nexport function formatMessageTime(date: Date | string): string {\n  const d = typeof date === \"string\" ? new Date(date) : date;\n  const now = new Date();\n\n  const isToday =\n    d.getDate() === now.getDate() &&\n    d.getMonth() === now.getMonth() &&\n    d.getFullYear() === now.getFullYear();\n\n  if (isToday) {\n    return d.toLocaleTimeString(\"en-US\", TIME_FORMAT);\n  }\n\n  const isThisYear = d.getFullYear() === now.getFullYear();\n\n  if (isThisYear) {\n    return `${d.toLocaleDateString(\"en-US\", DATE_FORMAT)}, ${d.toLocaleTimeString(\"en-US\", TIME_FORMAT)}`;\n  }\n\n  return d.toLocaleDateString(\"en-US\", FULL_FORMAT);\n}\n\n/**\n * Format a relative time (e.g., \"2 minutes ago\").\n */\nexport function formatRelativeTime(date: Date | string): string {\n  const d = typeof date === \"string\" ? new Date(date) : date;\n  const now = new Date();\n  const diffMs = now.getTime() - d.getTime();\n  const diffSeconds = Math.floor(diffMs / 1000);\n  const diffMinutes = Math.floor(diffSeconds / 60);\n  const diffHours = Math.floor(diffMinutes / 60);\n  const diffDays = Math.floor(diffHours / 24);\n\n  if (diffSeconds < 60) {\n    return \"just now\";\n  }\n\n  if (diffMinutes < 60) {\n    return `${diffMinutes} minute${diffMinutes === 1 ? \"\" : \"s\"} ago`;\n  }\n\n  if (diffHours < 24) {\n    return `${diffHours} hour${diffHours === 1 ? \"\" : \"s\"} ago`;\n  }\n\n  if (diffDays < 7) {\n    return `${diffDays} day${diffDays === 1 ? \"\" : \"s\"} ago`;\n  }\n\n  return formatMessageTime(d);\n}\n","/**\n * Design tokens for the chat UI.\n * These map to CSS custom properties for easy theming.\n */\n\nexport const chatTokens = {\n  spacing: {\n    /** Vertical spacing between messages (16px) */\n    messageBetween: \"1rem\",\n    /** Message bubble horizontal padding (14px) */\n    messagePx: \"0.875rem\",\n    /** Message bubble vertical padding (10px) */\n    messagePy: \"0.625rem\",\n    /** Container padding (16px) */\n    container: \"1rem\",\n    /** Composer padding (16px) */\n    composerPadding: \"1rem\",\n  },\n\n  typography: {\n    message: {\n      fontSize: \"1rem\",\n      lineHeight: 1.5,\n      letterSpacing: \"0px\",\n    },\n    caption: {\n      fontSize: \"0.875rem\",\n      lineHeight: 1.4,\n    },\n    small: {\n      fontSize: \"0.8125rem\",\n      lineHeight: 1.3,\n    },\n  },\n\n  borderRadius: {\n    message: \"0.5rem\",\n    input: \"1rem\",\n    panel: \"0.5rem\",\n    button: \"0.5rem\",\n    chip: \"0.25rem\",\n  },\n\n  colors: {\n    // CSS custom property references\n    primary: \"var(--chat-primary, #106997)\",\n    secondary: \"var(--chat-secondary, #56C18A)\",\n    error: \"var(--chat-error, #B1001B)\",\n    warning: \"var(--chat-warning, #DD9652)\",\n\n    // Message backgrounds\n    messageBg: \"var(--chat-message-bg, rgba(0, 0, 0, 0.03))\",\n    userMessageBg: \"var(--chat-user-message-bg, var(--chat-primary, #106997))\",\n\n    // Panel backgrounds\n    panelBg: \"var(--chat-panel-bg, rgba(0, 0, 0, 0.02))\",\n    panelBorder: \"var(--chat-panel-border, rgba(0, 0, 0, 0.06))\",\n\n    // Borders\n    border: \"var(--chat-border, rgba(0, 0, 0, 0.06))\",\n    borderHover: \"var(--chat-border-hover, rgba(0, 0, 0, 0.12))\",\n\n    // Text\n    text: \"var(--chat-text, #1D2033)\",\n    subtle: \"var(--chat-text-subtle, rgba(0, 0, 0, 0.5))\",\n    placeholder: \"var(--chat-placeholder, rgba(0, 0, 0, 0.4))\",\n\n    // Status colors\n    status: {\n      pending: {\n        main: \"rgba(0, 0, 0, 0.3)\",\n        bg: \"rgba(0, 0, 0, 0.05)\",\n      },\n      running: {\n        main: \"rgb(99, 102, 241)\",\n        bg: \"rgba(99, 102, 241, 0.08)\",\n      },\n      completed: {\n        main: \"rgb(16, 185, 129)\",\n        bg: \"rgba(16, 185, 129, 0.08)\",\n      },\n      failed: {\n        main: \"rgb(239, 68, 68)\",\n        bg: \"rgba(239, 68, 68, 0.08)\",\n      },\n    },\n  },\n\n  shadows: {\n    subtle: \"0 1px 2px rgba(0, 0, 0, 0.04)\",\n    input: \"0 2px 8px rgba(0, 0, 0, 0.08)\",\n    inputFocus: \"0 4px 16px rgba(0, 0, 0, 0.12)\",\n    button: \"0 1px 3px rgba(0, 0, 0, 0.08)\",\n    buttonHover: \"0 2px 6px rgba(0, 0, 0, 0.12)\",\n    primary: \"0 2px 6px rgba(16, 105, 151, 0.3)\",\n    primaryHover: \"0 4px 12px rgba(16, 105, 151, 0.4)\",\n  },\n\n  animations: {\n    messageEntrance: {\n      initial: { opacity: 0, y: 8 },\n      animate: { opacity: 1, y: 0 },\n      transition: { duration: 0.3, ease: [0.4, 0, 0.2, 1] },\n    },\n    fadeIn: {\n      initial: { opacity: 0 },\n      animate: { opacity: 1 },\n      transition: { duration: 0.2 },\n    },\n  },\n} as const;\n\nexport type ChatTokens = typeof chatTokens;\n"]}